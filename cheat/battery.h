#pragma once

#include <windows.h>
#include <iostream>
#include <powrprof.h>
#include <thread>   
#include "conio.h"
#include <Poclass.h>
#include <Setupapi.h>
#include <devguid.h>
#include <string>

#pragma comment(lib, "powrprof.lib")
#pragma comment (lib, "setupapi.lib")

using std::string;


class Battery
{
public:
	string powerSupplyType;      // ??? ?????????????
	string type;          // ??? ???????
	string batteryLifePercent;    // ??????? ?????? ???????
	string powerSavingMode;      // ??????? ????? ????????????????
	string batteryFullLifeTime;    // ????? ?????? ???????????? ??? ??????????? ? ???????
	string batteryLifeTime;      // ?????????? ????? ?????? ???????????? ????? ?????????? ????????? ??????????
public:
	Battery();
	string getPowerSupplyType(const SYSTEM_POWER_STATUS& status);
	string getType();
	string getBatteryLifePercent(const SYSTEM_POWER_STATUS& status);
	string getPowerSavingMode(const SYSTEM_POWER_STATUS& status);
	string getFullBatteryLifeTime(const SYSTEM_POWER_STATUS& status);
	string getBatteryLifeTime(const SYSTEM_POWER_STATUS& status);
	friend std::ostream& operator<<(std::ostream& out, Battery battery);
};